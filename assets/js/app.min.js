!function(){"use strict";function configure($routeProvider){$routeProvider.when("/",{templateUrl:"wp-content/themes/wp-rest-api-demo-theme/assets/templates/post-list.html",controller:"PostsListController",controllerAs:"PostListCtrl"}).when("/post/:id",{templateUrl:"wp-content/themes/wp-rest-api-demo-theme/assets/templates/single-post.html",controller:"PostController"}).when("/search/:s",{templateUrl:"wp-content/themes/wp-rest-api-demo-theme/assets/templates/post-list.html",controller:"PostsSearchController",controllerAs:"PostSearchCtrl"}).when("/category/:slug",{templateUrl:"wp-content/themes/wp-rest-api-demo-theme/assets/templates/post-list.html",controller:"CategoryPostsController",controllerAs:"CategoryPostsCtrl"}).otherwise("/")}angular.module("restApiDemo",["ngSanitize","ngRoute","angularMoment"]).config(configure).constant("REST_API_PATH","/wp/wp-json/wp/v2/")}(),function(){"use strict";function CategoryListController($scope,TermService){TermService.getCategories().then(function(response){$scope.items=TermService.makeTree(response.data,0)})}angular.module("restApiDemo").controller("CategoryListController",["$scope","TermService",CategoryListController])}(),function(){"use strict";function CategoryPostsController($scope,$routeParams,PostService){PostService.getPostsByCategory($routeParams.slug).then(function(response){$scope.posts=response.data})}angular.module("restApiDemo").controller("CategoryPostsController",["$scope","$routeParams","PostService",CategoryPostsController])}(),function(){"use strict";function PostsListController($scope,PostService){PostService.getPosts().then(function(response){$scope.posts=response.data})}angular.module("restApiDemo").controller("PostsListController",["$scope","PostService",PostsListController])}(),function(){"use strict";function PostsSearchController($scope,$routeParams,PostService){$scope.posts=[],$scope.searchMade=!1,$scope.resultCount=0,$scope.$watch("posts",function(){$scope.postCount=$scope.posts.length,$scope.searchMade=!0},!0),PostService.searchPosts($routeParams.s).then(function(response){$scope.posts=response.data})}angular.module("restApiDemo").controller("PostsSearchController",["$scope","$routeParams","PostService",PostsSearchController])}(),function(){"use strict";function PostController($scope,$routeParams,PostService){PostService.getPostById($routeParams.id).then(function(response){$scope.post=response.data})}angular.module("restApiDemo").controller("PostController",["$scope","$routeParams","PostService",PostController])}(),function(){"use strict";function PostService($http,REST_API_PATH){var API={};return API.getPosts=function(){return $http({method:"GET",url:REST_API_PATH+"posts",cache:!0})},API.getPostById=function(id){return $http({method:"GET",url:REST_API_PATH+"posts/"+id,cache:!0})},API.getPostsByCategory=function(slug){return $http({method:"GET",url:REST_API_PATH+"posts?filter[category_name]="+slug,cache:!0})},API.searchPosts=function(term){return $http({method:"GET",url:REST_API_PATH+"posts?filter[s]="+term,cache:!0})},API}angular.module("restApiDemo").factory("PostService",["$http","REST_API_PATH",function($http,REST_API_PATH){return PostService($http,REST_API_PATH)}])}(),function(){"use strict";function SearchFormController($scope,$location){this.search=function(){var searchTerm=$scope.searchTerm;""!==searchTerm&&$location.path("/search/"+searchTerm)}}angular.module("restApiDemo").controller("SearchFormController",["$scope","$location",SearchFormController])}(),function(){"use strict";function TermService($http,REST_API_PATH){var API={};return API.getCategories=function(){return $http({method:"GET",url:REST_API_PATH+"categories",cache:!0})},API.makeTree=function(terms,parent){var children,node={};return terms.filter(function(t){return t.parent===parent}).forEach(function(t){children=API.makeTree(terms,t.id),t.children=Object.keys(children).length>0?children:!1,node[t.id]=t}),node},API}angular.module("restApiDemo").factory("TermService",["$http","REST_API_PATH",function($http,REST_API_PATH){return TermService($http,REST_API_PATH)}])}();